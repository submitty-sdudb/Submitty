{% import _self as self %}

{# Looks weird but this is actually a continuation of GlobalHeader.twig #}
    <div id="push"></div>
</div>
<div id="footer">
    <span id="copyright">&copy; 2017 RPI | An <a href="https://rcos.io" target="_blank">RCOS project</a></span>|
    <span id="github">
        <a href="https://github.com/Submitty/Submitty" target="_blank" title="Fork us on GitHub" aria-label="Visit our GitHub">
            <i class="fa fa-github fa-lg"></i>
        </a>
    </span>

    {% if is_debug %}
    <a href="#" onClick="togglePageDetails();">Show Page Details</a>
    {% endif %}
</div>
{% if is_debug %}
    <div id='page-info'>
        Runtime: {{ runtime }}<br /><br />
        <h3>Site Details</h3>
        Total Submitty Details: {{ submitty_queries|length }}<br /><br />
        Submitty Queries:<br /> {{ self.query_list(submitty_queries) }}

        <h3>Course Details</h3>
        Total Course Queries: {{ course_queries|length }}<br /><br />
        Course Queries: <br /> {{ self.query_list(course_queries) }}
    </div>
{% endif %}
</body>
</html>

{% macro query_list(queries) %}
    <table>
        <tr>
            <th style="width: 2em"></th>
            <th></th>
        </tr>
        {% for query in queries %}
            <tr>
                <td style="text-align: right;">
                    {{ loop.index }}&nbsp;&nbsp;
                </td>
                <td>
                    <pre>{{ query }}</pre>
                </td>
            </tr>
        {% endfor %}
    </table>
{% endmacro %}